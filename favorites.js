import{E as d,g as P,P as u,f as a,a as m,b as p,c as v,i as x,d as f}from"./assets/main-f1phqLtd.js";/* empty css                      */import"./assets/vendor-4jich7g5.js";class E extends d{constructor(e,s,i,n,l="No favorite exercises found"){super(e,!0,l),this.containerElement=e,this.paginationContainer=s,this.itemsPerPage=i,this.ids=n,this.allItems=[],this.favorites=[],this.currentPage=1,this.totalPages=0,n.length?this.loadData():this.renderEmptyState()}setFavoriteIds(e){this.ids=e,this.itemsPerPage&&(this.totalPages=Math.ceil(this.ids.length/this.itemsPerPage),this.currentPage=this.totalPages<this.currentPage?this.totalPages:this.currentPage);const s=new Set(e);this.favorites=this.allItems.filter(i=>s.has(i._id)),this.updatePagination(this.totalPages,this.currentPage),this.renderWithPagination()}async loadData(){try{const e=await P({page:1,limit:999999});this.allItems=e.results,this.setFavoriteIds(this.ids)}catch(e){console.error("Error loading data:",e)}}renderWithPagination(){this.render(this.favorites.slice((this.currentPage-1)*(this.itemsPerPage??999999),this.currentPage*(this.itemsPerPage??999999)))}updatePagination(e,s){this.itemsPerPage&&(this.pagination?(this.pagination.setTotalPages(e),this.pagination.setPage(s)):(this.pagination=new u(this.paginationContainer,e,this.itemsPerPage),this.pagination.onPageChange(i=>{this.currentPage=i,this.renderWithPagination()})))}}const y=`It appears that you haven't added any exercises to your favorites yet.
To get started, you can add exercises that you like to your favorites for easier access in the future.`,h=document.querySelector(".exercise-cards-list"),I=document.querySelector(".js-items-pagination");h.classList.add("custom-scroll-bar");const S=x()?8:f()?10:null,r=new E(h,I,S,a.gerFavorites(),y),o=new m("#exercise-modal-content"),c=new p("#exercise-rating-content");r.onExerciseDelete(t=>{a.removeFavorite(t),r.setFavoriteIds(a.gerFavorites())});const g=async t=>{o.show(t),o.onRatingOpen(e=>{c.show(e),c.onDialogClose(()=>{g(t)})})};r.onExerciseSelect(async t=>{const e=await v(t);g(e)});o.onFavoriteToggle(()=>{r.setFavoriteIds(a.gerFavorites())});
//# sourceMappingURL=favorites.js.map
