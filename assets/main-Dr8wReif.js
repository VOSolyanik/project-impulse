import{a as p}from"./vendor-4jich7g5.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=t(n);fetch(n.href,i)}})();const m=p.create({baseURL:"https://your-energy.b.goit.study/api"}),f="dots",l="prev",g="next",h="first",d="last",a=3;class y{constructor(e,t){this.container=e,this.pagination=t,this.initListeners()}render(){this.container.innerHTML="";const e=this.pagination.getPages(),t=this.pagination.getCurrentPage(),s=this.pagination.getTotalPages(),n=t===1,i=t===s;let o="";e.length>a&&(o+=this.createPageTemplate(h,n),o+=this.createPageTemplate(l,n)),e.forEach(u=>{typeof u=="number"?o+=this.createPageTemplate(u,!1,u===t):o+=this.createPageTemplate(u,!0)}),e.length>a&&(o+=this.createPageTemplate(g,i),o+=this.createPageTemplate(d,i)),this.container.innerHTML=`<ul class="pagination">${o}</ul>`}initListeners(){this.container.addEventListener("click",e=>{const s=e.target.closest(".page-btn");s&&(s.dataset.page===l?this.pagination.prevPage():s.dataset.page===g?this.pagination.nextPage():s.dataset.page===h?this.pagination.firstPage():s.dataset.page===d?this.pagination.lastPage():this.pagination.setPage(+s.dataset.page))})}createPageTemplate(e,t=!1,s=!1){const n=[];return s&&n.push("page-btn--active"),typeof e=="string"&&n.push(`page-btn--${e}`),`<li class="pagination__item">
      <button class="page-btn ${n.join(" ")}" ${t?'disabled="disabled"':""} data-page="${e}">${this.createPageContent(e)}</button>
    </li>`}createPageContent(e){return typeof e=="number"?e.toString():e===f?"...":`<svg class="page-icon"><use href="/images/sprite.svg#${{[h]:"icon-arw-2-left",[d]:"icon-arw-2-right",[l]:"icon-arw-left",[g]:"icon-arw-right"}[e]}"></use></svg>`}}class w{constructor(e,t,s,n=1){this.totalPages=t,this.itemsPerPage=s,this.currentPage=n,this.listeners=[],this.view=new y(e,this),this.view.render()}setPage(e){e<1||e>this.totalPages||e===this.currentPage||(this.currentPage=e,this.notifyListeners())}nextPage(){this.setPage(this.currentPage+1)}prevPage(){this.setPage(this.currentPage-1)}lastPage(){this.setPage(this.totalPages)}firstPage(){this.setPage(1)}getPages(){const e=[];if(this.totalPages<=a)for(let t=1;t<=this.totalPages;t++)e.push(t);else{this.currentPage>a-1&&e.push(f);const t=Math.max(1,Math.min(this.currentPage-1,this.totalPages-a+1)),s=Math.min(this.totalPages,Math.max(this.currentPage+1,a));for(let n=t;n<=s;n++)e.push(n);this.currentPage<this.totalPages-1&&e.push(f)}return e}getCurrentPage(){return this.currentPage}getTotalPages(){return this.totalPages}onPageChange(e){this.listeners.push(e)}notifyListeners(){this.listeners.forEach(e=>e(this.currentPage,this.itemsPerPage)),this.view.render()}}class b{constructor(e){this.config=e,this.init()}init(){var e,t,s;(e=this.config.openMenuBtn)==null||e.addEventListener("click",()=>{this.onMenuOpen()}),(t=this.config.closeMenuBtn)==null||t.addEventListener("click",()=>{this.onMenuClose()}),(s=this.config.backdrop)==null||s.addEventListener("click",()=>{this.onMenuClose()})}onMenuClose(){this.config.menu.classList.remove("mobile-menu-open"),this.config.menu.setAttribute("aria-hidden","true"),document.body.style.overflow=""}onMenuOpen(){this.config.menu.classList.add("mobile-menu-open"),this.config.menu.setAttribute("aria-hidden","false"),document.body.style.overflow="hidden"}}const E=async()=>(await m.get("/quote")).data,r=class r{async initialize(){const e=this.getStoredQuote(),t=new Date().toISOString().split("T")[0];if(e&&e.date===t){this.renderQuote(e.quote);return}try{const s=await E();this.storeQuote(s,t),this.renderQuote(s)}catch(s){console.error("Error fetching quote:",s)}}getStoredQuote(){const e=localStorage.getItem(r.LOCAL_STORAGE_KEY);return e?JSON.parse(e):null}storeQuote(e,t){const s={quote:e,date:t};localStorage.setItem(r.LOCAL_STORAGE_KEY,JSON.stringify(s))}renderQuote(e){const t=document.getElementById("quote"),s=document.getElementById("author");t&&(t.textContent=e.quote),s&&(s.textContent=e.author)}};r.LOCAL_STORAGE_KEY="quoteOfTheDay";let P=r;const L=document.querySelector(".js-menu-open"),S=document.querySelector(".js-menu-close"),v=document.querySelector(".js-mobile-menu"),T=document.querySelector(".js-mobile-menu-backdrop");new b({openMenuBtn:L,closeMenuBtn:S,menu:v,backdrop:T});const M=new P;M.initialize();export{w as P,m as y};
//# sourceMappingURL=main-Dr8wReif.js.map
