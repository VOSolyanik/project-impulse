{"version":3,"file":"favorites.js","sources":["../src/ts/components/exercises/favorites-exercise-items.ts","../src/ts/pages/favorites.ts"],"sourcesContent":["import { Exercise } from '@/types/exercise';\nimport { getExercises } from '@/api/exercises.api';\nimport { ExerciseItems } from './exercise-items';\n\nexport class FavoritesExerciseItems extends ExerciseItems {\n  private allItems: Exercise[] = [];\n\n  constructor(\n    protected containerElement: HTMLElement,\n    private ids: string[],\n    emptyStateMessage: string = 'No favorite exercises found',\n  ) {\n    super(containerElement, true, emptyStateMessage);\n    this.loadData();\n  }\n\n  setFavoriteIds(ids: string[]): void {\n    this.ids = ids;\n    const favSet = new Set(ids);\n    const favorite = this.allItems.filter(item => favSet.has(item._id));\n    this.render(favorite);\n  }\n\n  private async loadData(): Promise<void> {\n    try {\n      const result = await getExercises({\n        page: 1,\n        limit: 999999\n      });\n\n      this.allItems = result.results;\n      this.setFavoriteIds(this.ids);\n    } catch (error) {\n      console.error('Error loading data:', error);\n    }\n  }\n}\n","\nimport { favoritesState } from '@/favorites-state';\nimport { getExerciseById } from '@/api/exercises.api';\nimport { Exercise } from '@/types/exercise';\nimport { FavoritesExerciseItems } from '@/components/exercises/favorites-exercise-items';\nimport { ExerciseModal } from '@/components/modal/exercise-modal';\nimport { ExerciseRatingModal } from '@/components/modal/rating-modal';\n\nconst EMPTY_STATE_MESSAGE = `It appears that you haven't added any exercises to your favorites yet.\nTo get started, you can add exercises that you like to your favorites for easier access in the future.`;\n\nconst exerciseItemsContainer = document\n    .querySelector<HTMLElement>('.exercise-cards-list');\n\nexerciseItemsContainer!.classList.add('custom-scroll-bar');\n\nconst exerciseItems = new FavoritesExerciseItems(\n  exerciseItemsContainer!,\n  favoritesState.gerFavorites(),\n  EMPTY_STATE_MESSAGE\n);\n\n\nconst exerciseModal = new ExerciseModal('#exercise-modal-content');\nconst ratingModal = new ExerciseRatingModal('#exercise-rating-content');\n\nexerciseItems.onExerciseDelete((id) => {\n  favoritesState.removeFavorite(id);\n  exerciseItems.setFavoriteIds(favoritesState.gerFavorites());\n});\n\nconst openExerciseModal = async (exercise: Exercise) => {\n  exerciseModal.show(exercise);\n  exerciseModal.onRatingOpen(item => {\n    debugger;\n    ratingModal.show(item);\n    ratingModal.onDialogClose(() => {\n      openExerciseModal(exercise);\n    })\n  });\n}\n\nexerciseItems.onExerciseSelect(async id => {\n  const exercise = await getExerciseById(id);\n  openExerciseModal(exercise);\n});\n\nexerciseModal.onFavoriteToggle(() => {\n  exerciseItems.setFavoriteIds(favoritesState.gerFavorites());\n});"],"names":["FavoritesExerciseItems","ExerciseItems","containerElement","ids","emptyStateMessage","favSet","favorite","item","result","getExercises","error","EMPTY_STATE_MESSAGE","exerciseItemsContainer","exerciseItems","favoritesState","exerciseModal","ExerciseModal","ratingModal","ExerciseRatingModal","id","openExerciseModal","exercise","getExerciseById"],"mappings":"oJAIO,MAAMA,UAA+BC,CAAc,CAGxD,YACYC,EACFC,EACRC,EAA4B,8BAC5B,CACM,MAAAF,EAAkB,GAAME,CAAiB,EAJrC,KAAA,iBAAAF,EACF,KAAA,IAAAC,EAJV,KAAQ,SAAuB,GAQ7B,KAAK,SAAS,CAChB,CAEA,eAAeA,EAAqB,CAClC,KAAK,IAAMA,EACL,MAAAE,EAAS,IAAI,IAAIF,CAAG,EACpBG,EAAW,KAAK,SAAS,UAAeD,EAAO,IAAIE,EAAK,GAAG,CAAC,EAClE,KAAK,OAAOD,CAAQ,CACtB,CAEA,MAAc,UAA0B,CAClC,GAAA,CACI,MAAAE,EAAS,MAAMC,EAAa,CAChC,KAAM,EACN,MAAO,MAAA,CACR,EAED,KAAK,SAAWD,EAAO,QAClB,KAAA,eAAe,KAAK,GAAG,QACrBE,EAAO,CACN,QAAA,MAAM,sBAAuBA,CAAK,CAC5C,CACF,CACF,CC5BA,MAAMC,EAAsB;AAAA,wGAGtBC,EAAyB,SAC1B,cAA2B,sBAAsB,EAEtDA,EAAwB,UAAU,IAAI,mBAAmB,EAEzD,MAAMC,EAAgB,IAAIb,EACxBY,EACAE,EAAe,aAAa,EAC5BH,CACF,EAGMI,EAAgB,IAAIC,EAAc,yBAAyB,EAC3DC,EAAc,IAAIC,EAAoB,0BAA0B,EAEtEL,EAAc,iBAAkBM,GAAO,CACrCL,EAAe,eAAeK,CAAE,EAClBN,EAAA,eAAeC,EAAe,aAAc,CAAA,CAC5D,CAAC,EAED,MAAMM,EAAoB,MAAOC,GAAuB,CACtDN,EAAc,KAAKM,CAAQ,EAC3BN,EAAc,aAAqBR,GAAA,CACjC,SACAU,EAAY,KAAKV,CAAI,EACrBU,EAAY,cAAc,IAAM,CAC9BG,EAAkBC,CAAQ,CAAA,CAC3B,CAAA,CACF,CACH,EAEAR,EAAc,iBAAiB,MAAMM,GAAM,CACnC,MAAAE,EAAW,MAAMC,EAAgBH,CAAE,EACzCC,EAAkBC,CAAQ,CAC5B,CAAC,EAEDN,EAAc,iBAAiB,IAAM,CACrBF,EAAA,eAAeC,EAAe,aAAc,CAAA,CAC5D,CAAC"}